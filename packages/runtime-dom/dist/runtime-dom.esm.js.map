{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["/**\r\n * \u5143\u7D20\u3001\u6587\u672C\u7684\u589E\u5220\u6539\u67E5\r\n */\r\nexport const nodeOps = {\r\n  // 1. \u521B\u5EFA\u5143\u7D20\r\n  createElement(tagName) {\r\n    return document.createElement(tagName);\r\n  },\r\n  // 2. \u63D2\u5165\u5143\u7D20\r\n  insert(child, parent, anchor) {\r\n    // \u5143\u7D20\u79FB\u52A8\uFF1B\r\n    // \u5F53\u7B2C\u4E8C\u4E2A\u53C2\u6570\u4E3Anull\u65F6\uFF0C\u63D2\u5165\u5230\u672B\u5C3E\uFF1B\r\n    parent.insertBefore(child, anchor || null);\r\n  },\r\n  // 3. \u79FB\u9664\u5143\u7D20\r\n  remove(child) {\r\n    const parent = child.parentNode;\r\n    if (parent) {\r\n      parent.removeChild(child);\r\n    }\r\n  },\r\n  // 4. \u67E5\u8BE2\u5143\u7D20\r\n  querySelector(selector) {\r\n    return document.querySelector(selector);\r\n  },\r\n  parentNode(node) {\r\n    return node.parentNode;\r\n  },\r\n  nextSibling(node) {\r\n    return node.nextSibling;\r\n  },\r\n  // \u521B\u5EFA\u6587\u672C\u8282\u70B9\r\n  createText(text) {\r\n    return document.createTextNode(text);\r\n  },\r\n  // 5. \u8BBE\u7F6E\u6587\u672C\r\n  setElementText(el, text) {\r\n    el.textContent = text;\r\n  },\r\n  setText(node, text) {\r\n    node.nodeValue = text;\r\n  },\r\n};\r\n", "export const patchAttr = (el, key, value) => {\r\n  if (value == null) {\r\n    el.removeAttribute(key);\r\n  } else {\r\n    el.setAttribute(key, value);\r\n  }\r\n};\r\n", "export const patchClass = (el, value) => {\r\n  if (value == null) {\r\n    el.removeAttribute(\"class\");\r\n  } else {\r\n    el.className = value;\r\n  }\r\n};\r\n", "function createInvoker(initialValue) {\r\n  const invoker = (e) => invoker.value(e);\r\n  // \u5C06\u4E8B\u4EF6\u7684\u56DE\u8C03\u7ED1\u5B9A\u5230 invoker.value \u4E0A\uFF0C\u540E\u7EED\u66F4\u65B0\u4E8B\u4EF6\u56DE\u8C03\u7684\u65F6\u5019\uFF0C\u53EA\u9700\u66F4\u65B0 invoker.value \u5373\u53EF\r\n  invoker.value = initialValue;\r\n  return invoker;\r\n}\r\n\r\nexport const patchEvent = (el, key, nextValue) => {\r\n  const invokers = el._vei || (el._vei = {}); // _vei \u662F vue event invoker \u7684\u7F29\u5199\r\n  const name = key.slice(2).toLowerCase(); // \u4E8B\u4EF6\u540D\r\n  const existingInvoker = invokers[name]; // \u53D6\u7F13\u5B58\r\n\r\n  // 1. \u5982\u679C\u662F\u66F4\u65B0\u4E8B\u4EF6\u7684\u56DE\u8C03\r\n  if (nextValue && existingInvoker) {\r\n    existingInvoker.value = nextValue;\r\n  } else {\r\n    // 2. \u5982\u679C\u662F\u7ED1\u5B9A\u65B0\u7684\u4E8B\u4EF6\r\n    if (nextValue) {\r\n      // \u521B\u5EFA invoker \u5E76\u7F13\u5B58\u8D77\u6765\r\n      const invoker = (invokers[name] = createInvoker(nextValue));\r\n      el.addEventListener(name, invoker);\r\n    } else {\r\n      // 3. \u5982\u679C\u662F\u79FB\u9664\u4E8B\u4EF6\r\n      el.removeEventListener(name, existingInvoker);\r\n      invokers[name] = null;\r\n    }\r\n  }\r\n};\r\n", "export const patchStyle = (el, prev, next) => {\r\n  const style = el.style;\r\n  // 1. \u5C06\u65B0\u7684\u6837\u5F0F\u6DFB\u52A0\u5230style\u4E0A\uFF0C\u5982\u679C\u6709\u91CD\u590D\u7684\u76F4\u63A5\u8986\u76D6\r\n  for (let key in next) {\r\n    style[key] = next[key];\r\n  }\r\n\r\n  for (let key in prev) {\r\n    // 2. \u8001\u7684\u6709\uFF0C\u65B0\u7684\u6CA1\u6709\uFF0C\u8981\u79FB\u9664\u6389\r\n    if (next[key] == null) {\r\n      style[key] = null;\r\n    }\r\n  }\r\n};\r\n", "import { patchAttr } from \"./modules/attr\";\r\nimport { patchClass } from \"./modules/class\";\r\nimport { patchEvent } from \"./modules/event\";\r\nimport { patchStyle } from \"./modules/style\";\r\n\r\nexport const patchProp = (el, key, prevValue, nextValue) => {\r\n  if (key === \"class\") {\r\n    // 1. class \u7C7B\u540D\r\n    patchClass(el, nextValue);\r\n  } else if (key === \"style\") {\r\n    // 2. \u6837\u5F0F\r\n    patchStyle(el, prevValue, nextValue);\r\n  } else if (/^on[^a-z]/.test(key)) {\r\n    // 3. onXxx \u4E8B\u4EF6\r\n    patchEvent(el, key, nextValue);\r\n  } else {\r\n    // 4. \u5176\u5B83 attributes \u5C5E\u6027\r\n    patchAttr(el, key, nextValue);\r\n  }\r\n};\r\n", "import { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\n\r\nconst renderOptions = Object.assign(nodeOps, { patchProp });\r\n\r\nconsole.log(renderOptions);\r\n"],
  "mappings": ";AAGO,IAAM,UAAU;AAAA,EAErB,cAAc,SAAS;AACrB,WAAO,SAAS,cAAc,OAAO;AAAA,EACvC;AAAA,EAEA,OAAO,OAAO,QAAQ,QAAQ;AAG5B,WAAO,aAAa,OAAO,UAAU,IAAI;AAAA,EAC3C;AAAA,EAEA,OAAO,OAAO;AACZ,UAAM,SAAS,MAAM;AACrB,QAAI,QAAQ;AACV,aAAO,YAAY,KAAK;AAAA,IAC1B;AAAA,EACF;AAAA,EAEA,cAAc,UAAU;AACtB,WAAO,SAAS,cAAc,QAAQ;AAAA,EACxC;AAAA,EACA,WAAW,MAAM;AACf,WAAO,KAAK;AAAA,EACd;AAAA,EACA,YAAY,MAAM;AAChB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,WAAW,MAAM;AACf,WAAO,SAAS,eAAe,IAAI;AAAA,EACrC;AAAA,EAEA,eAAe,IAAI,MAAM;AACvB,OAAG,cAAc;AAAA,EACnB;AAAA,EACA,QAAQ,MAAM,MAAM;AAClB,SAAK,YAAY;AAAA,EACnB;AACF;;;AC1CO,IAAM,YAAY,CAAC,IAAI,KAAK,UAAU;AAC3C,MAAI,SAAS,MAAM;AACjB,OAAG,gBAAgB,GAAG;AAAA,EACxB,OAAO;AACL,OAAG,aAAa,KAAK,KAAK;AAAA,EAC5B;AACF;;;ACNO,IAAM,aAAa,CAAC,IAAI,UAAU;AACvC,MAAI,SAAS,MAAM;AACjB,OAAG,gBAAgB,OAAO;AAAA,EAC5B,OAAO;AACL,OAAG,YAAY;AAAA,EACjB;AACF;;;ACNA,SAAS,cAAc,cAAc;AACnC,QAAM,UAAU,CAAC,MAAM,QAAQ,MAAM,CAAC;AAEtC,UAAQ,QAAQ;AAChB,SAAO;AACT;AAEO,IAAM,aAAa,CAAC,IAAI,KAAK,cAAc;AAChD,QAAM,WAAW,GAAG,SAAS,GAAG,OAAO,CAAC;AACxC,QAAM,OAAO,IAAI,MAAM,CAAC,EAAE,YAAY;AACtC,QAAM,kBAAkB,SAAS;AAGjC,MAAI,aAAa,iBAAiB;AAChC,oBAAgB,QAAQ;AAAA,EAC1B,OAAO;AAEL,QAAI,WAAW;AAEb,YAAM,UAAW,SAAS,QAAQ,cAAc,SAAS;AACzD,SAAG,iBAAiB,MAAM,OAAO;AAAA,IACnC,OAAO;AAEL,SAAG,oBAAoB,MAAM,eAAe;AAC5C,eAAS,QAAQ;AAAA,IACnB;AAAA,EACF;AACF;;;AC3BO,IAAM,aAAa,CAAC,IAAI,MAAM,SAAS;AAC5C,QAAM,QAAQ,GAAG;AAEjB,WAAS,OAAO,MAAM;AACpB,UAAM,OAAO,KAAK;AAAA,EACpB;AAEA,WAAS,OAAO,MAAM;AAEpB,QAAI,KAAK,QAAQ,MAAM;AACrB,YAAM,OAAO;AAAA,IACf;AAAA,EACF;AACF;;;ACRO,IAAM,YAAY,CAAC,IAAI,KAAK,WAAW,cAAc;AAC1D,MAAI,QAAQ,SAAS;AAEnB,eAAW,IAAI,SAAS;AAAA,EAC1B,WAAW,QAAQ,SAAS;AAE1B,eAAW,IAAI,WAAW,SAAS;AAAA,EACrC,WAAW,YAAY,KAAK,GAAG,GAAG;AAEhC,eAAW,IAAI,KAAK,SAAS;AAAA,EAC/B,OAAO;AAEL,cAAU,IAAI,KAAK,SAAS;AAAA,EAC9B;AACF;;;AChBA,IAAM,gBAAgB,OAAO,OAAO,SAAS,EAAE,UAAU,CAAC;AAE1D,QAAQ,IAAI,aAAa;",
  "names": []
}
